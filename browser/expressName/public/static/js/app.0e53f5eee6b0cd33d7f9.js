webpackJsonp([1],{"+8wL":function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAH0AfQDASIAAhEBAxEB/8QAGwABAAIDAQEAAAAAAAAAAAAAAAIDAQQFBgf/xAA1EAEAAgECBAUBBQgDAQEAAAAAAQIDBBESITFRBTJBYXEiE1JygZEjMzRCobHB0WKi4QZz/8QAGQEBAAMBAQAAAAAAAAAAAAAAAAECAwQF/8QAIxEBAQEAAgICAwEBAQEAAAAAAAECAxEhMRJBBDJRIkJhUv/aAAwDAQACEQMRAD8A+7AAAAAAAAAAAAAAAAAAAADEzEdZRnJHpCLYnpM3iOs7KpvafVFX5J6W8de7H2kekKxHyqeon9pPsxx27oiOzqM8U95Y3nuAAAkZ3nvLADPFbvLPHZEO0J/aT6wzGSPhWJ+VOoui1Z9WVDMTMdJT8kfFcK4yTHVKLxK0sR1UgEoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGbxHurm0z6q3SZFk3iPdCbzPsiK3VWkAEAAJAAAAAAAAAAAAAAAAABDMTMdN0oyd4QE906XRMT0llRv2TjJ3WmkWLBiJieksrKgAAAAAAAAAAAAAAAAAAAAAAAAAAAAIWv6Qi3okSm0VV2tM+0I9RS3teQAQkAAAAAAAAAAAAAAAAAAAAAAAAAAAAiZhZXJ6SrCXpFi8VVtNVkWi3RealVsZAWQAAAAAAAAAAAAAAAAAAAAAAMTMRG8kzFYVTMzPNF10mRm15t8Igz77WABIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAARO3QAW1vv16pKE639JWmlbFgC6oAAAAAAAAAAAAAAAAAAja3DHuWtwx7qpned5VtTIzM785YBRcAAAAAAAAAAAAAAAAAQAAACQAAAAAAAAAAAAAAAAAQJVvtynotUJVvtynovNK2LQF1QAAAAAAAAAAAAABibcMEztG6qZmZ3Rq9JkJned5YBmuAAAAAAAAAAAABM7RvPJqZtdWv0444p7+iutzPtOc3Xptqb6rDTfe289o5udkzZMvntMx2VufX5H8bZ4J9t23iE/yY/wBZVW1maeloj4hrjK8mr9tZx5n0snPlnrkt+qE3tPW0ywKfK/1bqG4COxmL2jpaY/NOufLXpkt+qsT8qdRsV1uavW0T8wtp4hP89P0lpC85dz7VvHm/Tq01WHJyi209p5LvhxFmPNkxT9FpiO3o1z+R/Wd4f4641MWurbaMkcM946NuJiY3id4ns6M7mvTDWbPYAsgAAAAAAAAAAAQJ0ttynosULKW9JXzVbEwF1QAAAAAAAAAAEL29IRb0RG1uKfZEGd8rgAkAAAAAAAAAAQy5qYa8Vp+I7sZs1cNOKec+kd3KyZLZb8Vp3n+zHk5ZnxPbTHH8vNTzai+aec7V9KwqBx22+a6pJPEAEJAAAAAAAAAAAAFuHUXwz9M717SqEy2XwiyX26+LNTNXes8/WJ9FjjUvbHeLVnaYdTBnrnpv0tHWHXxcvy8X25d8fx8xaA3ZAAkAAAAAAAAABbW3FHukpidp3hdE7xuvm9qWACyAAAAAAAAGLTwwp6pXtvPtCLO3teQAQkAAAAAAAAAARtaKVm1uUQk0Ndl3tGKJ5R5vlTe/jO1sZ+V6a+bLObJNp6ekdlYOC2327JJPQAhIAAAAAAAAAAAAAAAAnjyWxXi9Z5wgEtnpHXbsYskZccWr0n+kpubo832eXhmfpt/d0nfx7+Uce8/GgDRUAAAAAAAAAATpbadvRAJekLxGluKPdJrFAAAAAABG87R8pKbTvKuqmRgBRcAAAAAAAAAAABG94x47XnpEOPa02tNp6zLf19+HFWkfzS57j59d66dPDnqdgDBsAAAAAAAAAAAAAAAAAAAAOtpsn2uCJnr0lyW3oL7ZLU9Jjf8ANtw6610y5c957dAB2OQASkAAAAAAAAABms7SuULaTvC2arYkAuqAAAAjedq+6pK872RZ2rwAQkAAAAAAAAAAAEOdr7b54jtDVX6ud9Vf5UPP5L3qu3E6zABRcAAAAAAAAAAAAAAAAAAAAWYLcGek+6tmOUxPunN6vaLO47QRO8RI9FwgCQAAAAAAAAAAZrO0wwEQvGKzvVlqoAAMTO0bsoZJ5RCLfCYrAZrAAkAAAAAAAAAAAQOTqOeoyfiVLM/7+/4lbzte67s+gBCQAAAAAAAAAAAAAAAAAAAAAiHZxzvjr+GEkMX7mn4YTejn04b7AFgAAAAAAAAAAABPHPPbusURO0wvXzVKAJBVed7LZ6KEaIAKLgAAAAAAAAAAAAAORn/f5PxK1uo/iMn4lTztftXbn0AKrAAAAAAAAAAAAAAAAAAAAAAh2MX7qn4YTRpyx1j2hJ6OfThvsAWAAAAAAAAAAAABbSd6qk8c9YTn2irAGnSiN52rKpZk6QrZ69rT0AIWAAAAAAAAAAAAAAcrVRtqr/O6lsa2NtTPvENd52/2rsx+sAFVwAAAAAAAAAAAAAAAAAAAA6yM0je9Y94TPaL6dmvlj4ZB6McNAEgAAAAAAAAAAAAlSdrQiR1giF4DZTtXk835IJXn65RY1eAAkAAAAAAAAAAAAAEOf4hH7Wk96tRv+IV+mlveYaDh5p1uuzj/AFgAyaAAAAAAAAAAAAAAAAAAAACzTxvqMcf8oVtjRxvqa+0TK2J3qK69OmA9FwgAkAAAAAAAAAAAAAQLon6YDH5OY17U6VT5pYJ6yM1gASAAAAAAAAAAAAAA19bG+mme07uY6+evFgvHs5Dj55/p08N/yAMGwAAAAAAAAAAAAAAAAAAAA3PD6/tLz2hpuhoK7YrW7y14Z3uM+W9ZbYDucgAAAAAAAAAAAAAAAgWUn6RGs8hftCICqQAAAAAAAAAAAAAAADbflLi3rw3tXtOztOXq68Opt783P+RPHbbhvmxQA5HSAAAAAAAAAAAAAAAAAAAAOrpa8OmpHeN3LiN5iI9XZivDWK9o2dH4882sOa+OmQHW5wAAAAAAAAAAAAAAADcAAZnrLAAAAAAAAAAAAAAAAADR8Qrzpf8AKW8o1dOPT27xzZ8k7zVuO9acsBwO0AAAAAAAAAAAAAAAAAAABdpa8epp7c3VaPh9Od79uTedvBOsuTlvegBszAAAAAAAAAAAAAAAAZiBKsbwJ6QjbzSwlfzyiigAJAAAAAAAAAAAAAAGJiLVmJ6TylkQOLas0tNZ6xOzDZ1tOHPxR0tzazz9zrVjtze52AKrAAAAAAAAAAAAAAAAAJY6ceStI9Z2JO6i+PLpaSnBp697c15EREREdIHo5nU6cVvdAFkAAAAAAAAAAAAAAACBZSPpGa8qwNOle0ckc4lBZkj6VauvaZ6AEJAAAAAAAAAAAAAAAAa2tx8eHi9azu5rtWrFqzWekxs496TS9qz6Ts5PyM+e3Rw67nSIDnbgAAAAAAAAAAAAAAADb0OPiyzeelf7tR1dLj+zwRExznnLXhz3ply66yuAdzlAAAAAAAAAAAAAAAAAZrG9oBdEcgGsjNi0b1lSvUzG0zCmlowAqsAAAAAAAAAAAAAAAANDX4trVyRHXlLfQy44y47Un1U5M/LPS2NfG9uOM2rNLTWesTtLDz3YACQAAAAAAAAAAAAAFunxfa5q1np1l1mtosX2eLinzW5/k2Xbw4+OXJy670ANmQAJAAAAAAAAAAAAAAEqR9SKzHHLdM9oqYDVQV5I+rdYjeN6q2eExUAzWABIAAAAAAAAAAAAAAADT1uDij7Wsc480NB23n6Z63z5cU7RatpiI7xu5OfHV7jp4dWzpaA52wAAAAAAAAAAAAv0uH7bJvMfRXq1cuWuHHN7flHdt+CZLZdPmvbrOT/DTiz3ryz5L1nw6YDvcgAAAAAAAAAAAAAAAAAIF0RtEQqrG9ly2YigCyoAkUzG0zDCeSPVBnfa8AEJAAAAAAAAAAAAAAAAI6vHambU12WY5Wi89Pl7F5fxDFx6jLaPNFp3c/P6jbg91bptVXNG1tovHWO7YcOJmJ3jeJhv6fXRbauWdp+93+XLY6W6HXnAgAAAAAAAAEMuSmKk2vPJXn1VMMbb739IhzcuW+a/Fafj2T0M589s9+KeUR0js7v/AM//AAeT/wDT/Dz0RNrREdZem8GpGPR2iOvHzbcP7MuX9XRAdjlAAAAAAAAAAAAAAAAAIjedhCzHHKZTI5RsNIpQBIAAxMbwpXq8kbTurqLZqACiwAAAAAAAAAAAAAAAA87qP4nL+KXot9o37c3msluPLe0dJmZhz8/qN+D7amfD/PWOXrDXdFrZsHW1P0czoRw6nJhnaJ3r92W/i1mLLymeC3aXKDod0cbHny4/LeY9mxTxG8eekT8ckdDojUr4hinzVtH9WZ1+GPvT+SOhtDRt4jH8mOfzlRk1mbJy4uGPZPQ6OTNjxRve0R7erRza+1+WOOGO/q1Jned5nee4mQJmZneeckRMzszETaYiI3lt4sMY+c87f2Aw4vs43nzT/R3vCv4a343Gdbwi8TjyU9YmJa8P7s+Wf5dEB2OMAEgAAAAAAAAAAAAACeOOe6C6I2jZOYrayA0VAAAAGJjeNmQFE8p2Fl6+sK2VnS8oAJAAAAAAAAAAABAI3vTHHFe0ViPWZc7U+KRtNdPHP78x/ZTW859r5xdelniOrjHjnDSfrt129IcdmZm0zMzMzPqw497+V7deMfGACq6rJgrfnHKe7VvS2OdrRt7t9iYiY2mOQhzxtX01Z8s7T/RTbBkr6b/AKxmYmOsMJAZitrdImVtdPeev0wClZjw2ye0d5bFMFKc+s+61Ajjx1xxy690gEi7S5502eL9Y6THeFIS9XtFnc6elpeuSkXpMTWecSk4Gm1eTTW+nnWetZdfBrcOflFuG33bOzHLNOTfHctgBqyABIAAAAAAAAAADMRvOwhLHX1WERtHIaSdK0ASgAAAAAAU2rwyuYmOKNldTuJlUh7Ci4AAAIAV3zYsXnyVr8yjvr2mS1YNHJ4pgr5Ytf4jaGrk8VzW8lK1j35ypeXMXnFquwqyanDi8+WsT23cLJqc+Xz5bTHbfZUyvP/I0nB/a7GTxXDXlStrz36NTJ4pnvypw0j2jeWkM7y6rWcWYlfJfJbe9ptPvKIM1/XoAEgAAAAADHDHaP0ZAAAAAAAAAABC/FrNRh5VyTMdrc25j8XnpkxR81lzBecmp9q3Gb9O7j8R02T+fhntaNmzW1bxvWYmPaXmWa3tSd62ms+0tJz37jO8E+nphwsfiOpx8pvxR/wAobWPxeOX2mKY96y1nNmsrw6jpjWx67T5OUZIie1uTYiYtG8TEx7S0mpfSlzZ7jICUAAAAC2ldo90aV3neeixbMVtAF1QAAAAAAAAAEL135x1Vr2lr75tPi+0w0raP5t/RTfidr583pchfLTHH13rX5lw8mt1GTrlmI7V5NeZ367z8uW8/8jonBft28nienp5Zm/4YauTxbJP7vHWv4ubnDK82q0nFmL8mr1GXzZbbdo5KOvUFLbWkkgAgABIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlTJfHO9L2r8SiHaOo3MfiWop1mLx/yhtY/FqT+8x2j3jm5IvOXU+1Lx5v09Bj1mnyeXLWJ7TyX9Y3h5hOmbJj8l7V+Jaznv3Gd4P49IzWvFLkaXXavLmriiK3me8dHcrHDXb1dHHqb8sN5uPFZ9AGzIAAAAAAAAAAAAYmImNpjlPKd2QHB8R8PnT2+1xxM4p/6/+Oe9basWrNbRExMbTE+rg+IeHzprTkxxM4p/6uLm4ev9ZdnFy9/5rQAczoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEseO+W8UpG9p6QY8dst4pSs2tPSHodDoa6Sm888s+a3b2hrxcd3f8AxlyckxP/AFnRaKukxbdck+a3+G0D0M5mZ1HDbbe6AJQAAAAAAAAAAAAAAMTEWjaYiYnrEsgOHr/DZwzOXDEzj9a+tf8AxzXrnJ13hfFvl08bT1mn+nHy8H/WXVxc31pxwmJiZiYmJjrEjldIAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFmHBkz5Ix4672n+izS6PLq77UjasdbT0h6DTaXHpcfBjj5tPWW3Fw3fm+mPJyzPie1ej0VNJTl9WSfNb/TaB35kk6jittvdAEoAAAAAAAAAAAAAAAAAAAAaes8Px6qOKNqZPvd/lws+DLp78GWvDP9JepQy4cefHwZKRav8AZhycM35nttx81z7eUHR1fhWTDvfDvkp29Yc5xaxc3quzOpqdwAVWAAAAAAAAAAAAAAAAAAAAAAAAAAAAAW4NPl1N+HFWZ7z6QSW+Ii2T2qdHR+FXzbXzb0x+kest/R+GY9PtfJ9eTvPSPhvOvi/H+9OXk5/rKNKVx0ilKxWsdIhIHVHMAJAAAAAAAAAAAAAAAAAAAAAAAABp6rw7Dqt7bcGT71f8x6twRrM14qZbn081qdDm0vmrvT0tXo1nrp577892hqPCsGbe2P8AZ39o5fo5N/jX3l04/In/AE4A2tRoNRp95tTip96vOGq5rmz26JZfQAhYAAAAAAAAAAAAAAAAAAAABLHjvltw46zae0EnfpCKVKWvaK0rNpn0iHS0/g17fVntwx92vV1cGnxaevDipFff1n83Rj8fWvfhjvnzPTl6Xwe07X1E7R9yOv5y6+PHTFSKY6xWsekQkOvHHnHpy73dewBdQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAaufw/TajnanDb71eUtoRcy+0y2enDz+DZqbzitGSO08paGTDkwztkpavzD1bFqxaNrREx2lz6/GzfTfP5Fnt5Ieiy+GaXLvPBwT3pOzSy+C2jnizRPtaNv6sNfj7jbPPmuUNvJ4bq8fXFNo71ndrWpak7XrNfxRsyubPcaTUvpEBCQASACAASACAF2PS58vkw3n8kyWlsikdDH4Pqbeea0j3neW5i8Gw155L2v7RyhpOHd+md5sRw9ue3r2bWHw7U5ucY+GO9uTv4tNgwR+zxVr77c1rfP43/1WOvyP5HMweDYqbTmvN57Ryh0MeLHirw46RWO0QmN84zn1GGt617oAuqAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIgAJqAmInrG4FSpvo9NfzYMfztsot4VpLdMcx8WkGW8569NM6v9UZfCdPWN4tk/WP8ATQy6WmOZ2m35yDk3JHVi2ta0bTsjsDGtVuPFW+28z+TeweHYcnmtf8pj/QNMxTd6jbr4RpY68dvm3+l1PD9JTphifmZn+4OvGc/xy71f6vpix44+jHWvxGye4NpGPfZ0ASABUACIkASAAAAAAAAAAAAAAAAAAP/Z"},"5r4C":function(e,t){},"5wP2":function(e,t){},"7wnj":function(e,t){},BqZC:function(e,t){},KSIq:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("7+uW"),s=a("Zrlr"),n=a.n(s),r=a("wxAW"),o=a.n(r),l=a("mtWM"),A=a.n(l);A.a.defaults.baseURL="http://127.0.0.1:3000";var d={name:"Login",data:function(){return{svgtext:"",flake:!0,timer:"",userid:"",password:"",verifyCode:""}},methods:{snowflake:function(){var e,t,a=this,i=this.$refs.snowbox,s=[],r=function(){function e(t){n()(this,e),this.num=t,this.init()}return o()(e,[{key:"init",value:function(){var e=document.documentElement.clientWidth,t=document.getElementsByClassName("snowbox")[0],a=document.createElement("div");this.div=a,a.style.position="absolute",a.className=this.num+"snow",a.style.left=Math.random()*e-7+"px",a.style.top=0,a.style.width=7*Math.random()+3+"px",a.style.height=a.style.width,a.style.borderRadius="50%",a.style.opacity=Math.random(),a.style.backgroundColor="white",this.speed=parseInt(a.style.width)-3,t.appendChild(a)}},{key:"draw",value:function(){this.div.style.top=parseInt(this.div.style.top)+1+.2*this.speed+"px",this.div.style.opacity-=16e-5}}]),e}();e=document.documentElement.clientHeight-7,t=0,a.timer=setInterval(function(){var a=new r(++t);s.push(a);for(var n=0;n<s.length;n++){var o=s[n].div.style.opacity,l=parseInt(s[n].div.style.top)+parseInt(s[n].div.style.width)/2;(o<=0||l>=e)&&(i.removeChild(document.getElementsByClassName(s[n].div.className)[0]),s.splice(n,1)),s[n].draw()}},100)},refreshSvg:function(e){var t=this;e.target.parentNode.removeChild(e.target),A.a.get("/svg").then(function(e){t.svgtext=e.data.text,t.$refs.svg.innerHTML=e.data.data,t.$refs.svg.children[0].style.width="100%"})},getHeadimg:function(){var e=this,t=this.userid;""===t?e.$refs.error.innerHTML="":A.a.get("/user/judgment?userid="+t).then(function(t){t.data.userid?(e.$refs.error.innerHTML="",e.$refs.headimg.setAttribute("src","http://127.0.0.1:3000"+t.data.headimg)):e.$refs.error.innerHTML="账号不存在"},function(){e.$refs.error.innerHTML="服务器错误"})},submit:function(e){var t=function(){function e(t){n()(this,e),this.name=t.name,this.value=t.value,this.t=t.time,this.p=t.path}return o()(e,[{key:"init",value:function(){var e=3600*parseFloat(this.t)*24*1e3,t=(new Date).getTime()+e;this.time="expires="+new Date(t).toUTCString(),this.path="path="+this.p,e||(this.time=""),this.p||(this.path=""),document.cookie=this.name+"="+this.value+";"+this.time+";"+this.path}}]),e}(),a=this,i=this.userid,s=this.password,r=this.verifyCode.toLowerCase();i?s?r?r===this.svgtext.toLowerCase()?A.a.post("/user/login",{userid:i,password:s}).then(function(e){if(e.data.password){var i=new t({name:"user",value:e.data.token,time:1,path:"/"}),s=new t({name:"login",value:e.data.id,time:1,path:"/"});i.init(),s.init(),clearInterval(a.timer),a.$emit("changepage","personpage")}else a.$refs.error.innerHTML="账号或密码错误",a.$refs.svg.removeChild(a.$refs.svg.firstChild),A.a.get("/svg").then(function(e){a.svgtext=e.data.text,a.$refs.svg.innerHTML=e.data.data,a.$refs.svg.children[0].style.width="100%"})}):(this.$refs.error.innerHTML="验证码错误",this.$refs.svg.removeChild(this.$refs.svg.firstChild),A.a.get("/svg").then(function(e){a.svgtext=e.data.text,a.$refs.svg.innerHTML=e.data.data,a.$refs.svg.children[0].style.width="100%"})):this.$refs.error.innerHTML="请输入验证码":this.$refs.error.innerHTML="请输入密码":this.$refs.error.innerHTML="请输入账号"},register:function(){clearInterval(this.timer),this.$emit("changepage","register")}},created:function(){var e=this;A.a.get("/svg").then(function(t){e.svgtext=t.data.text,e.$refs.svg.innerHTML=t.data.data,e.$refs.svg.children[0].style.width="100%"})}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"bpp",attrs:{id:"bpp"},on:{"~mouseover":function(t){return e.snowflake(t)}}},[i("div",{ref:"snowbox",staticClass:"snowbox"}),e._v(" "),i("div",{staticClass:"form"},[i("div",{staticClass:"image"},[i("img",{ref:"headimg",attrs:{src:a("+8wL"),alt:"",id:"headimg"}})]),e._v(" "),i("div",{staticClass:"formlist"},[i("form",[i("div",{ref:"error",attrs:{id:"error"}}),e._v(" "),i("div",{staticClass:"username"},[i("i",{staticClass:"iconfont icon-zhanghu1"}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.userid,expression:"userid"}],ref:"userid",attrs:{type:"text",id:"username",name:"userid",placeholder:"账号",autocomplete:"off"},domProps:{value:e.userid},on:{blur:e.getHeadimg,input:function(t){t.target.composing||(e.userid=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"password"},[i("i",{staticClass:"iconfont icon-mima"}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],ref:"password",attrs:{type:"password",id:"password",name:"password",placeholder:"密码",autocomplete:"off"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"verificationCode"},[i("i",{staticClass:"iconfont icon-yanzhengma"}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.verifyCode,expression:"verifyCode"}],ref:"svgtext",attrs:{type:"text",id:"verificationCode",placeholder:"请输入验证码",autocomplete:"off"},domProps:{value:e.verifyCode},on:{input:function(t){t.target.composing||(e.verifyCode=t.target.value)}}}),e._v(" "),i("div",{staticClass:"verificationCodeImg"},[i("div",{ref:"svg",staticClass:"svg",on:{click:e.refreshSvg}})])]),e._v(" "),i("button",{ref:"submit",staticClass:"submit",attrs:{type:"submit"},on:{click:function(t){return t.preventDefault(),e.submit(t)}}},[e._v("登录")]),e._v(" "),i("div",{staticClass:"register"},[i("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.register(t)}}},[e._v("还没有账号？立即注册")])])])])])])},staticRenderFns:[]};var u=a("VU/8")(d,c,!1,function(e){a("jYeS")},"data-v-9ac3633e",null).exports;A.a.defaults.baseURL="http://127.0.0.1:3000";var f={name:"Uform",data:function(){return{svgtext:"",userid:"",nickname:"",oldpassword:"",password:"",verifyCode:"",imgindex:""}},methods:{alaysisCookie:function(e){var t=e.split(";"),a={};for(var i in t){var s=t[i].split("=")[0]?t[i].split("=")[0].trim():"msg",n=!!t[i].split("=")[1]&&t[i].split("=")[1].trim();a[s]=n}return a},refreshSvg:function(e){var t=this;e.target.parentNode.removeChild(e.target),A.a.get("/svg").then(function(e){t.svgtext=e.data.text,t.$refs.svg.innerHTML=e.data.data,t.$refs.svg.children[0].style.width="100%"})},getUserdata:function(e){var t=this,a=A.a.create({baseurl:"http://127.0.0.1:3000"});a.defaults.headers.common.token=this.alaysisCookie(document.cookie).user,a.post("/datauser",{userid:e.login}).then(function(e){t.$refs.headimgid.setAttribute("src","http://127.0.0.1:3000"+e.data.headimg),t.userid=e.data.userid,t.nickname=e.data.username})},uploadHeadimg:function(){var e=this,t=this.$refs.headimage.files[0].name.split(".")[1];if("jpg"===t||"png"===t){var a=new FormData(this.$refs.avater);A.a.post("/user/upload",a,{"Content-Type":"multipart/form-data"}).then(function(t){e.imgindex=t.data.imgindex,e.$refs.headimgid.setAttribute("src","http://127.0.0.1:3000"+t.data.headimg)})}else this.$refs.error.innerHTML="请上传图片文件"},submit:function(){var e=A.a.create({baseurl:"http://127.0.0.1:3000"});e.defaults.headers.common.token=this.alaysisCookie(document.cookie).user;var t=this,a=this.userid,i=this.nickname,s=this.oldpassword,n=this.password,r=this.verifyCode.toLowerCase(),o=!(this.svgtext.toLowerCase()===r),l=String(this.password),d=this.imgindex;i?n?l.length<6||l.length>15?this.$refs.error.innerHTML="密码限制为6-15位":r?o?(this.$refs.error.innerHTML="验证码不正确",this.$refs.svg.removeChild(t.$refs.svg.firstChild),A.a.get("/svg").then(function(e){t.svgtext=e.data.text,t.$refs.svg.innerHTML=e.data.data,t.$refs.svg.children[0].style.width="100%"})):(this.$refs.error.innerHTML="",e.post("/alteruser",{nickname:i,userid:a,oldpassword:s,password:n,imgindex:d}).then(function(e){e.data.password?e.data.account?(t.$refs.error.innerHTML="修改成功",t.$emit("changepage","personpage")):t.$refs.error.innerHTML="修改失败":t.$refs.error.innerHTML="原密码错误"})):this.$refs.error.innerHTML="请输入验证码":this.$refs.error.innerHTML="密码不能为空":this.$refs.error.innerHTML="昵称不能为空"}},created:function(){var e=this.alaysisCookie(document.cookie),t=this;A.a.get("/svg").then(function(e){t.svgtext=e.data.text,t.$refs.svg.innerHTML=e.data.data,t.$refs.svg.children[0].style.width="100%"}),this.getUserdata(e)}},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"uform"}},[a("div",{staticClass:"form"},[a("div",{staticClass:"image"},[a("img",{ref:"headimgid",attrs:{src:"",alt:"",id:"headimgid"}}),e._v(" "),a("button",{staticClass:"headimg"},[e._v("上传头像")]),e._v(" "),a("form",{attrs:{id:"avater",action:"/upload",method:"post",enctype:"multipart/form-data"}},[a("input",{ref:"headimage",attrs:{type:"file",name:"avatar",id:"headimage"},on:{change:e.uploadHeadimg}})])]),e._v(" "),a("div",{staticClass:"formlist"},[a("form",{attrs:{action:"/register",method:"POST",id:"formlist",onsubmit:""}},[a("div",{ref:"error",attrs:{id:"error"}}),e._v(" "),a("div",{staticClass:"username"},[a("i",{staticClass:"iconfont icon-zhanghu1"}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.userid,expression:"userid"}],ref:"userid",attrs:{type:"text",id:"username",name:"userid",placeholder:"账号",readonly:""},domProps:{value:e.userid},on:{input:function(t){t.target.composing||(e.userid=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"username"},[a("i",{staticClass:"iconfont icon-zhanghu1"}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.nickname,expression:"nickname"}],ref:"nickname",attrs:{type:"text",id:"nickname",name:"username",placeholder:"请输入昵称",autocomplete:"off"},domProps:{value:e.nickname},on:{input:function(t){t.target.composing||(e.nickname=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"password"},[a("i",{staticClass:"iconfont icon-mima"}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.oldpassword,expression:"oldpassword"}],ref:"password",attrs:{type:"password",id:"password",name:"password",placeholder:"旧密码",autocomplete:"off"},domProps:{value:e.oldpassword},on:{input:function(t){t.target.composing||(e.oldpassword=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"password"},[a("i",{staticClass:"iconfont icon-mima"}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],ref:"newpassword",attrs:{type:"password",id:"newPassword",placeholder:"新密码",autocomplete:"off"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"verificationCode"},[a("i",{staticClass:"iconfont icon-yanzhengma"}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.verifyCode,expression:"verifyCode"}],ref:"verifyCode",attrs:{type:"text",id:"verificationCode",placeholder:"请输入验证码",autocomplete:"off"},domProps:{value:e.verifyCode},on:{input:function(t){t.target.composing||(e.verifyCode=t.target.value)}}}),e._v(" "),a("div",{staticClass:"verificationCodeImg"},[a("div",{ref:"svg",staticClass:"svg",on:{click:e.refreshSvg}})])]),e._v(" "),a("button",{staticClass:"submit",attrs:{type:"button",id:"submit"},on:{click:e.submit}},[e._v("保存")])])])])])},staticRenderFns:[]};var m=a("VU/8")(f,h,!1,function(e){a("Uuo5")},"data-v-cd80d82a",null).exports;A.a.defaults.baseURL="http://127.0.0.1:3000";var v={name:"Rform",data:function(){return{svgtext:"",img:"",imgindex:"",userid:"",nickname:"",password:"",verifyPassword:"",verifyCode:""}},methods:{refreshSvg:function(e){var t=this;e.target.parentNode.removeChild(e.target),A.a.get("/svg").then(function(e){t.svgtext=e.data.text,t.$refs.svg.innerHTML=e.data.data,t.$refs.svg.children[0].style.width="100%"})},getUserid:function(){var e=this;A.a.get("/user/register/createId").then(function(t){e.userid=t.data})},uploadHeadimg:function(){var e=this,t=this.$refs.headimage.files[0].name.split(".")[1];if("jpg"===t||"png"===t){var a=new FormData(this.$refs.avater);A.a.post("/user/upload",a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){e.imgindex=t.data.imgindex,e.$refs.headimgid.setAttribute("src","http://127.0.0.1:3000"+t.data.headimg)})}else this.$refs.error.innerHTML="请上传图片文件"},submit:function(){var e=this,t=this.userid,a=this.nickname,i=this.password,s=this.verifyPassword,n=this.verifyCode.toLowerCase(),r=this.$refs.headimage.files.length,o=!(i===s),l=!(this.svgtext.toLowerCase()===n),d=String(this.password),c=this.imgindex;r?a?i?d.length<6||d.length>15?this.$refs.error.innerHTML="密码限制为6-15位":o?this.$refs.error.innerHTML="密码不一致":n?l?(this.$refs.error.innerHTML="验证码不正确",this.$refs.svg.removeChild(e.$refs.svg.firstChild),A.a.get("/svg").then(function(t){e.svgtext=t.data.text,e.$refs.svg.innerHTML=t.data.data,e.$refs.svg.children[0].style.width="100%"})):(this.$refs.error.innerHTML="",A.a.post("/user/register",{nickname:a,userid:t,password:i,imgindex:c}).then(function(t){t.data.account?e.$emit("changepage","login"):this.$refs.error.innerHTML="服务器繁忙"})):this.$refs.error.innerHTML="请输入验证码":this.$refs.error.innerHTML="密码不能为空":this.$refs.error.innerHTML="昵称不能为空":this.$refs.error.innerHTML="请上传头像"}},created:function(){var e=this;A.a.get("/svg").then(function(t){e.svgtext=t.data.text,e.$refs.svg.innerHTML=t.data.data,e.$refs.svg.children[0].style.width="100%"}),this.getUserid()}},p={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"rform"}},[i("div",{staticClass:"form"},[i("div",{staticClass:"image"},[i("img",{ref:"headimgid",attrs:{src:a("+8wL"),alt:"",id:"headimgid"}}),e._v(" "),i("button",{staticClass:"headimg"},[e._v("上传头像")]),e._v(" "),i("form",{ref:"avater",attrs:{id:"avater",action:"/upload",method:"post",enctype:"multipart/form-data"}},[i("input",{ref:"headimage",attrs:{type:"file",name:"avatar",id:"headimage"},on:{change:e.uploadHeadimg}})])]),e._v(" "),i("div",{staticClass:"formlist"},[i("form",{attrs:{id:"formlist"}},[i("div",{ref:"error",attrs:{id:"error"}}),e._v(" "),i("div",{staticClass:"username"},[i("i",{staticClass:"iconfont icon-zhanghu1"}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.userid,expression:"userid"}],ref:"userid",attrs:{type:"text",id:"username",name:"userid",placeholder:"账号",readonly:""},domProps:{value:e.userid},on:{input:function(t){t.target.composing||(e.userid=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"username"},[i("i",{staticClass:"iconfont icon-zhanghu1"}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.nickname,expression:"nickname"}],ref:"nickname",attrs:{type:"text",id:"nickname",name:"username",placeholder:"请输入昵称",autocomplete:"off"},domProps:{value:e.nickname},on:{input:function(t){t.target.composing||(e.nickname=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"password"},[i("i",{staticClass:"iconfont icon-mima"}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],ref:"password",attrs:{type:"password",id:"password",name:"password",placeholder:"密码",autocomplete:"off"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"password"},[i("i",{staticClass:"iconfont icon-mima"}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.verifyPassword,expression:"verifyPassword"}],ref:"verifyPassword",attrs:{type:"password",id:"verifyPassword",placeholder:"确认密码",autocomplete:"off"},domProps:{value:e.verifyPassword},on:{input:function(t){t.target.composing||(e.verifyPassword=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"verificationCode"},[i("i",{staticClass:"iconfont icon-yanzhengma"}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.verifyCode,expression:"verifyCode"}],ref:"svgtext",attrs:{type:"text",id:"verificationCode",placeholder:"请输入验证码",autocomplete:"off"},domProps:{value:e.verifyCode},on:{input:function(t){t.target.composing||(e.verifyCode=t.target.value)}}}),e._v(" "),i("div",{staticClass:"verificationCodeImg"},[i("div",{ref:"svg",staticClass:"svg",on:{click:e.refreshSvg}})])]),e._v(" "),i("button",{ref:"submit",staticClass:"submit",attrs:{type:"button",id:"submit"},on:{click:e.submit}},[e._v("注册")])])])])])},staticRenderFns:[]};var g={name:"Register",data:function(){return{register:"true",changepage:"register"}},props:["alter"],methods:{changePage:function(e){this.changepage=e}},watch:{changepage:function(){this.$emit("changepage",this.changepage)}},components:{Rform:a("VU/8")(v,p,!1,function(e){a("5r4C")},"data-v-540b8fce",null).exports,Uform:m},created:function(){this.register=!this.alter}},w={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"rpp"}},[this.register?t("Rform",{on:{changepage:this.changePage}}):t("Uform",{on:{changepage:this.changePage}})],1)},staticRenderFns:[]};var b=a("VU/8")(g,w,!1,function(e){a("UiqD")},"data-v-3736bba3",null).exports,y={name:"Nav",data:function(){return{information:!1,username:"",admin:!1}},methods:{alaysisCookie:function(e){var t=e.split(";"),a={};for(var i in t){var s=t[i].split("=")[0]?t[i].split("=")[0].trim():"msg",n=!!t[i].split("=")[1]&&t[i].split("=")[1].trim();a[s]=n}return a},alterData:function(){this.$emit("changepage","register",!0)},getUserdata:function(){var e=this,t=this.alaysisCookie(document.cookie),a=A.a.create({baseURL:"http://127.0.0.1:3000"});a.defaults.headers.common.token=t.user,a.post("/datauser",{userid:t.login}).then(function(t){0===t.data.admin&&(e.admin=!0,e.$emit("changeadmin",!0)),e.username=t.data.username,e.$refs.headimg.setAttribute("src","http://127.0.0.1:3000"+t.data.headimg)})},exit:function(){var e=function(){function e(t){n()(this,e),this.name=t.name,this.value=t.value,this.t=t.time,this.p=t.path}return o()(e,[{key:"init",value:function(){var e=3600*parseFloat(this.t)*24*1e3,t=(new Date).getTime()+e;this.time="expires="+new Date(t).toUTCString(),this.path="path="+this.p,e||(this.time=""),this.p||(this.path=""),document.cookie=this.name+"="+this.value+";"+this.time+";"+this.path}}]),e}(),t=new e({name:"login",value:"",time:-1,path:"/"}),a=new e({name:"user",value:"",time:-1,path:"/"});t.init(),a.init(),this.$emit("changepage","login")},allUser:function(){var e=this,t=this.alaysisCookie(document.cookie),a=A.a.create({baseURL:"http://127.0.0.1:3000"});a.defaults.headers.common.token=t.user,a.post("/alluser").then(function(t){e.$emit("alluser",t.data,!0)})}},created:function(){this.getUserdata()}},C={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"nav",attrs:{id:"nav"}},[a("marquee",{staticStyle:{width:"85%",color:"red","font-size":"18px"},attrs:{behavior:"scroll",direction:"left"}},[e._v("\n    实验室注意事项：\n    1、不得将饮料和事物带入化学实验室,.实验室内禁止吸烟\n    2、请保持室内卫生.\n    3、废纸请扔进废纸篓里.\n    4、未经许可不得触摸任何物品\n    5、做完试验后物品必须放回原位\n    6、离开前必须关闭门窗\n  ")]),e._v(" "),a("img",{ref:"headimg",attrs:{src:"",alt:"headimg",id:"headimg"},on:{mouseover:function(t){e.information=!0},mouseout:function(t){e.information=!1}}}),e._v(" "),e.admin?a("span",{staticClass:"updata",on:{click:e.allUser}},[e._v("用户管理")]):e._e(),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.information,expression:"information"}],staticClass:"information",attrs:{id:"information"},on:{mouseover:function(t){e.information=!0},mouseout:function(t){e.information=!1}}},[a("div",{staticClass:"user-username"},[a("span",[e._v("昵称：")]),e._v(" "),a("span",{staticClass:"username"},[e._v(" "+e._s(e.username)+" ")])]),e._v(" "),a("div",{staticClass:"userxiala persondate",attrs:{id:"persondate"},on:{click:e.alterData}},[a("span",[e._v("个人信息")])]),e._v(" "),a("div",{staticClass:"userxiala exit",attrs:{id:"exit"},on:{click:e.exit}},[a("span",[e._v("退出")])])])],1)},staticRenderFns:[]};var x=a("VU/8")(y,C,!1,function(e){a("fa6I")},"data-v-16deb932",null).exports,_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sidebar left"},[a("div",{staticClass:"leftxiala"},[a("span",{ref:"displayfile",staticClass:"xiala files",attrs:{id:"xialafile"},on:{click:function(t){return e.displayFile(!1)}}},[e._v("文件")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.flist,expression:"flist"}],ref:"secondfile",staticClass:"secondbox secondfile"},[a("span",{staticClass:"second"},[e._v("视频")]),e._v(" "),a("span",{staticClass:"second"},[e._v("图片")]),e._v(" "),a("span",{staticClass:"second"},[e._v("文本")])])]),e._v(" "),a("div",{staticClass:"leftxiala"},[a("span",{ref:"displaytable",staticClass:"xiala tables",attrs:{id:"xialatable"},on:{click:function(t){return e.displayTable(!1)}}},[e._v("用户数据表")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.tlist,expression:"tlist"}],ref:"nowtable",staticClass:"secondbox secondtable",attrs:{id:"tablelist"}},e._l(e.tablelist,function(t,i){return a("span",{key:i,staticClass:"second"},[e._v(e._s(t))])}),0)])])},staticRenderFns:[]};var k=a("VU/8")({name:"Leftside",data:function(){return{}},props:["flist","tlist","tablelist"],methods:{displayFile:function(e){this.$emit("displayfile",e)},displayTable:function(e){this.$emit("displaytable",e)},fileClass:function(e){this.$emit("fileclass",e)},nowTable:function(e){this.$emit("nowtable",e)}},mounted:function(){this.$refs.secondfile.addEventListener("click",this.fileClass),this.$refs.nowtable.addEventListener("click",this.nowTable)}},_,!1,function(e){a("7wnj")},null,null).exports,T={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sidebar right file",attrs:{id:"displayfile"}},[a("div",{staticClass:"top"},[a("span",{staticClass:"upl",attrs:{id:"upload"}},[e._v("上传")]),e._v(" "),a("form",{ref:"avater",attrs:{id:"avater",action:"/upload",method:"post",enctype:"multipart/form-data"}},[a("input",{attrs:{type:"file",name:"avatar",id:"uploadfile"},on:{change:e.uploadFile}})]),e._v(" "),a("span",{staticClass:"upl allfile",attrs:{id:"allfile"},on:{click:e.allFile}},[e._v("全部文件")]),e._v(" "),a("div",{staticClass:"seach"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.seachfile,expression:"seachfile"}],staticClass:"seachdata seachfdata",attrs:{type:"text"},domProps:{value:e.seachfile},on:{input:function(t){t.target.composing||(e.seachfile=t.target.value)}}}),e._v(" "),a("span",{staticClass:"iconfont icon-tubiao- seachfile",on:{click:e.seachFile}})])]),e._v(" "),a("div",{staticClass:"bottom"},[e._m(0),e._v(" "),a("ul",{ref:"filelist",attrs:{id:"filelist"}},e._l(e.filelist,function(t,i){return a("li",{key:i},[a("span",{staticClass:"s s1 filename"},[a("input",{attrs:{name:"Fruit",type:"checkbox",value:""}}),e._v(" "),"image"===t.filetype?a("i",{staticClass:"iconfont icon-tupian fileicon"}):"video"===t.filetype?a("i",{staticClass:"iconfont icon-video- fileicon"}):a("i",{staticClass:"iconfont icon-icon fileicon"}),e._v(" "),"image"===t.filetype?a("a",{staticClass:"displayimage",attrs:{onclick:"return false",href:"http://127.0.0.1:3000"+t.filepath,target:"_blank"}},[a("span",{staticClass:"name displayimage"},[e._v(e._s(t.filename))])]):"video"===t.filetype?a("span",{staticClass:"name playvideo",attrs:{playpath:"http://127.0.0.1:3000"+t.filepath},on:{click:e.displayVideo}},[e._v(e._s(t.filename))]):a("span",{staticClass:"name"},[e._v(e._s(t.filename))]),e._v(" "),a("a",{staticClass:"download",attrs:{href:t.filepath,download:t.fullname}},[a("i",{staticClass:"iconfont icon-xiazai"})]),e._v(" "),a("i",{staticClass:"iconfont icon-shanchu"}),e._v(" "),a("i",{staticClass:"fileid"},[e._v(e._s(t.fileid))])]),e._v(" "),a("span",{staticClass:"s s2 filesize"},[e._v(e._s(t.filesize))]),e._v(" "),a("span",{staticClass:"s s3 date"},[e._v(e._s(t.updt))])])}),0)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"top"},[t("span",{staticClass:"s s1"},[this._v("文件名")]),this._v(" "),t("span",{staticClass:"s s2"},[this._v("文件大小")]),this._v(" "),t("span",{staticClass:"s s3"},[this._v("修改日期")])])}]};var N=a("VU/8")({name:"Displayfile",data:function(){return{seachfile:""}},props:["filelist"],methods:{uploadFile:function(){this.$emit("uploadfile",this.$refs.avater)},allFile:function(){this.$emit("allfile")},seachFile:function(){var e=this.seachfile;e?this.$emit("seachfile",e):this.seachfile="请输入相关信息"},displayVideo:function(e){this.$emit("displayvideo",e)},deleteFile:function(e){this.$emit("deletefile",e)},displayImg:function(e){this.$emit("displayimg",e)}},mounted:function(){this.$refs.filelist.addEventListener("click",this.deleteFile),this.$refs.filelist.addEventListener("click",this.displayImg)}},T,!1,function(e){a("NnPy")},null,null).exports,L=a("pFYg"),E=a.n(L),H={name:"Waringbox",data:function(){return{seachtlist:[]}},props:["nowtable"],methods:{alaysisCookie:function(e){var t=e.split(";"),a={};for(var i in t){var s=t[i].split("=")[0]?t[i].split("=")[0].trim():"msg",n=!!t[i].split("=")[1]&&t[i].split("=")[1].trim();a[s]=n}return a},deleteTable:function(){var e=this,t=void 0;t="object"===E()(this.nowtable.tablename)?this.nowtable.tablename[0]:this.nowtable.tablename;var a=this.alaysisCookie(document.cookie),i=A.a.create({baseURL:"http://127.0.0.1:3000"});i.defaults.headers.common.token=a.user,i.defaults.headers.common.userid=a.login,i.post("/deletetable",{tablename:t}).then(function(t){t.data.delete&&(e.$emit("waringbox","删除成功"),e.$emit("gettable"))})},seachTable:function(){var e=this,t=this.$refs.seachtdata.value;if(t){var a=this.alaysisCookie(document.cookie),i=A.a.create({baseURL:"http://127.0.0.1:3000"});i.defaults.headers.common.token=a.user,i.defaults.headers.common.userid=a.login,i.post("/querytable",{message:t}).then(function(t){t.data.table.length?e.seachtlist=t.data.table:e.waringBox("无此表")})}else this.waringBox("请输入关键信息")},addTable:function(){this.$emit("addtable")},editTable:function(){this.$emit("edittable")},listNowTable:function(e){this.seachtlist=[],this.$emit("listnowtable",e)}},mounted:function(){this.$refs.seachtlist.addEventListener("click",this.listNowTable)}},P={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sidebar right form",attrs:{id:"displaytable"}},[a("div",{staticClass:"top"},[a("span",{ref:"addtable",staticClass:"upl",attrs:{id:"addtable"},on:{click:e.addTable}},[e._v("添加表")]),e._v(" "),a("span",{ref:"editor",staticClass:"upl",attrs:{id:"editor"},on:{click:e.editTable}},[e._v("编辑表")]),e._v(" "),a("span",{ref:"charttype",staticClass:"upl",attrs:{id:"charttype"}},[e._v("图表类型")]),e._v(" "),a("span",{ref:"deletetable",staticClass:"upl",attrs:{id:"deletetable"},on:{click:e.deleteTable}},[e._v("删除表")]),e._v(" "),e._m(0),e._v(" "),a("div",{staticClass:"seach"},[a("input",{ref:"seachtdata",staticClass:"seachdata seachtdata",attrs:{type:"text"}}),e._v(" "),a("span",{staticClass:"iconfont icon-tubiao- seachtable",on:{click:e.seachTable}})])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0===e.seachtlist.length,expression:"seachtlist.length === 0"}],staticClass:"bottom usertable"},[a("div",{staticClass:"formbox",attrs:{id:"tablebox"}},[a("table",{attrs:{border:"1",frame:"void",cellspacing:"0",rules:"groups"}},["object"==typeof e.nowtable.tablename?a("caption",{staticClass:"delcaption"},[e._v(e._s(e.nowtable.tablename[0]))]):a("caption",[e._v(e._s(e.nowtable.tablename))]),e._v(" "),a("tr",{staticClass:"col"},e._l(e.nowtable.tablefield,function(t,i){return a("th",{key:i},[a("input",{attrs:{type:"checkbox"}}),e._v("\n            "+e._s(t)+"\n          ")])}),0),e._v(" "),e._l(e.nowtable.table,function(t,i){return a("tr",{key:i,staticClass:"row",attrs:{id:"row"+e.nowtable.table[i].serial}},e._l(e.nowtable.tablefield,function(i,s){return a("td",{key:s},[e._v(e._s(t[i]))])}),0)})],2)]),e._v(" "),a("div",{staticClass:"chart",staticStyle:{width:"600px",height:"300px"},attrs:{id:"chart"}})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0!==e.seachtlist.length,expression:"seachtlist.length !== 0"}],staticClass:"bottom tablebottom"},[e._m(1),e._v(" "),a("ul",{ref:"seachtlist",attrs:{id:"seachtlist"}},e._l(e.seachtlist,function(t,i){return a("li",{key:i,staticClass:"stl"},[a("span",{staticClass:"stlv"},[e._v(e._s(t))])])}),0)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"chartbox"},[t("ul",{attrs:{id:"charttypelist"}},[t("li",{staticClass:"chart "},[t("a",{staticClass:"chart",attrs:{href:"#"}},[this._v("折线图")])]),this._v(" "),t("li",{staticClass:"chart "},[t("a",{staticClass:"chart",attrs:{href:"#"}},[this._v("饼状图")])]),this._v(" "),t("li",{staticClass:"chart "},[t("a",{staticClass:"chart",attrs:{href:"#"}},[this._v("柱状图")])]),this._v(" "),t("li",{staticClass:"chart "},[t("a",{staticClass:"chart",attrs:{href:"#"}},[this._v("散点图")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"top"},[t("span",{staticClass:"s s1"},[this._v("表名")])])}]};var R={name:"Edittable",data:function(){return{delrow:[],delfield:[]}},props:["editflag","edittable","addeditflag","oldfield"],methods:{alaysisCookie:function(e){var t=e.split(";"),a={};for(var i in t){var s=t[i].split("=")[0]?t[i].split("=")[0].trim():"msg",n=!!t[i].split("=")[1]&&t[i].split("=")[1].trim();a[s]=n}return a},getTable:function(){this.$emit("gettable")},displayTable:function(){this.$emit("displaytable",!1)},waringBox:function(e){this.$emit("waringbox",e)},addRow:function(){for(var e=document.createElement("tr"),t=0;t<document.getElementsByClassName("editcol")[0].children.length;t++){var a=document.createElement("td"),i=document.createElement("input");a.appendChild(i),e.appendChild(a)}e.className="editrow addrow",document.getElementById("edittable").appendChild(e)},addCol:function(){var e=document.createElement("th");e.className="addcol adc",e.innerHTML='<input type="text">',document.getElementsByClassName("editcol")[0].appendChild(e);for(var t=0;t<document.getElementsByClassName("editrow").length;t++){var a=document.createElement("td");a.innerHTML='<input type="text">',a.className="adc",document.getElementsByClassName("editrow")[t].appendChild(a)}},deleteRow:function(){var e=document.getElementsByClassName("editrow"),t=e.length;1===t?this.waringBox("至少一行"):(e[t-1].getAttribute("id")&&this.delrow.push(e[t-1].getAttribute("id").split("editrow")[1]),e[t-1].parentNode.removeChild(e[t-1]))},deleteCol:function(){var e=document.getElementsByClassName("editcol")[0].children.length,t=document.getElementsByClassName("editcol")[0].children[e-1],a=document.getElementsByClassName("editrow").length;if(1===e)this.waringBox("至少一列");else{null!==t.children[0].getAttribute("baseValue")&&this.delfield.push(t.children[0].getAttribute("baseValue")),t.parentNode.removeChild(t);for(var i=0;i<a;i++)document.getElementsByClassName("editrow")[i].children[e-1].parentNode.removeChild(document.getElementsByClassName("editrow")[i].children[e-1])}},clearEle:function(e){for(;e.children.length;)for(var t=0;t<e.children.length;t++)e.children[t].parentNode.removeChild(e.children[t])},notSave:function(){for(;document.getElementsByClassName("adc").length;)for(var e=document.getElementsByClassName("adc"),t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t]);for(;document.getElementsByClassName("addrow").length;)for(var a=document.getElementsByClassName("addrow"),i=0;i<a.length;i++)a[i].parentNode.removeChild(a[i]);this.$emit("caddeditflag",!1),this.$emit("ceditflag",!1),this.displayTable()},saveTable:function(){this.$emit("caddeditflag",!1);var e=this,t=!1,a=this.oldfield,i=!0,s=!1,n=!1,r={};r.oldtablename=document.getElementsByClassName("caption")[0].children[0].getAttribute("baseValue"),r.tablename=document.getElementsByClassName("caption")[0].children[0].value,r.field=[],r.rowdata=[],r.addfield=[],r.deletefield=this.delfield,r.editfield=[],r.addrowdata=[],r.delrowdata=this.delrow,r.editrowdata=[],Number(r.tablename)&&(s=!0);for(var o=document.getElementsByClassName("editcol")[0].children,l=document.getElementsByClassName("addcol"),d=0;d<o.length;d++){if(!o[d].children[0].value){i=!1;break}if(Number(o[d].children[0].value)){n=!0;break}for(var c=0;c<o.length;c++)d!==c&&o[d].children[0].value===o[c].children[0].value&&(t=!0);for(var u=0;u<a.length&&!(d>=l.length);u++)l[d].children[0].value===a[u]&&(t=!0);r.field.push(o[d].children[0].value)}for(var f=document.getElementsByClassName("editrow"),h=0;h<f.length;h++){for(var m={},v=0;v<o.length;v++)m[r.field[v]]=f[h].children[v].children[0].value;r.rowdata.push(m)}if(r.tablename)if(i)if(s)this.waringBox("表名不能为纯数字或艺术字开头");else if(n)this.waringBox("字段不能为纯数字或艺术字开头");else if(t)this.waringBox("字段不能重名");else if(this.editflag){for(var p=document.getElementsByClassName("addcol"),g=0;g<p.length;g++)r.addfield.push(p[g].children[0].value);for(var w=document.getElementsByClassName("editcol")[0].children,b=0;b<w.length;b++){var y={},C=w[b].children[0].getAttribute("baseValue"),x=w[b].children[0].value;C!==x&&(w[b].className||(y.oldfield=C,y.newfield=x,y.tablename=r.tablename,r.editfield.push(y)))}for(var _=document.getElementsByClassName("addrow"),k=0;k<_.length;k++){for(var T={},N=0;N<w.length;N++)T[r.field[N]]=_[k].children[N].children[0].value;r.addrowdata.push(T)}for(var L=document.getElementsByClassName("editrow"),E=0;E<L.length;E++){var H={};if(L[E].getAttribute("id"))for(var P=0;P<w.length;P++)"changed"===L[E].children[P].children[0].className&&(H.serial=L[E].getAttribute("id").split("editrow")[1],H[r.field[P]]=L[E].children[P].children[0].value,r.editrowdata.push(H))}var R=this.alaysisCookie(document.cookie),B=A.a.create({baseURL:"http://127.0.0.1:3000"});B.defaults.headers.common.token=R.user,B.defaults.headers.common.userid=R.login,B.post("/edittable",r).then(function(t){t.data.success?(e.$emit("ceditflag",!1),e.getTable(),e.displayTable(),e.notSave(),e.waringBox("保存成功")):e.waringBox("保存失败")})}else{var $=this.alaysisCookie(document.cookie),M=A.a.create({baseURL:"http://127.0.0.1:3000"});M.defaults.headers.common.token=$.user,M.defaults.headers.common.userid=$.login,M.post("/addtable",r).then(function(t){t.data.success?(e.getTable(),e.displayTable(),e.notSave(),e.waringBox("保存成功")):e.waringBox("此表已存在")})}else this.waringBox("字段不能为空");else this.waringBox("表名不能为空")}},mounted:function(){document.getElementById("edittable").addEventListener("change",function(e){e.target.className="changed"})}},B={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sidebar right addtable",attrs:{id:"editbox"}},[a("div",{staticClass:"top"},[a("span",{ref:"addrow",staticClass:"upl",attrs:{id:"addrow"},on:{click:e.addRow}},[e._v("添加行")]),e._v(" "),a("span",{ref:"addcol",staticClass:"upl",attrs:{id:"addcol"},on:{click:e.addCol}},[e._v("添加列")]),e._v(" "),a("span",{ref:"deleterow",staticClass:"upl",attrs:{id:"deleterow"},on:{click:e.deleteRow}},[e._v("删除行")]),e._v(" "),a("span",{ref:"deletecol",staticClass:"upl",attrs:{id:"deletecol"},on:{click:e.deleteCol}},[e._v("删除列")]),e._v(" "),a("span",{ref:"notsave",staticClass:"upl",attrs:{id:"notsave"},on:{click:e.notSave}},[e._v("不保存")]),e._v(" "),a("span",{ref:"saveeditor",staticClass:"upl",attrs:{id:"saveeditor"},on:{click:e.saveTable}},[e._v("保存")])]),e._v(" "),a("div",{staticClass:"bottom usertable"},[a("div",{ref:"formbox",staticClass:"formbox"},[e.editflag?e._e():a("table",{attrs:{border:"1",frame:"void",cellspacing:"0",rules:"groups",id:"edittable"}},[e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2)]),e._v(" "),e.editflag?a("table",{attrs:{border:"1",frame:"void",cellspacing:"0",rules:"groups",id:"edittable"}},[a("caption",{staticClass:"caption"},[a("input",{attrs:{type:"text",placeholder:"请输入表名",baseValue:e.edittable.tablename},domProps:{value:e.edittable.tablename}})]),e._v(" "),a("tr",{staticClass:"editcol"},e._l(e.edittable.field,function(e,t){return a("th",{key:t},[a("input",{attrs:{type:"text",baseValue:e},domProps:{value:e}})])}),0),e._v(" "),e._l(e.edittable.rowdata,function(t,i){return a("tr",{key:i,staticClass:"editrow",attrs:{id:"editrow"+t.serial}},e._l(e.edittable.field,function(e,i){return a("td",{key:i},[a("input",{attrs:{type:"text",baseValue:t[e]},domProps:{value:t[e]}})])}),0)})],2):e._e()])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("caption",{staticClass:"caption"},[t("input",{attrs:{type:"text",placeholder:"请输入表名"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",{staticClass:"editcol"},[t("th",[t("input",{attrs:{type:"text"}})])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",{staticClass:"editrow"},[t("td",[t("input",{attrs:{type:"text"}})])])}]};var $={name:"Userlist",data:function(){return{}},props:["alluser"],methods:{alaysisCookie:function(e){var t=e.split(";"),a={};for(var i in t){var s=t[i].split("=")[0]?t[i].split("=")[0].trim():"msg",n=!!t[i].split("=")[1]&&t[i].split("=")[1].trim();a[s]=n}return a},resetPassword:function(e){var t=this,a=e.target.getAttribute("userid"),i=this.alaysisCookie(document.cookie),s=A.a.create({baseURL:"http://127.0.0.1:3000"});s.defaults.headers.common.token=i.user,s.post("/resetPassword",{userid:a}).then(function(e){e.data&&t.waringBox("重置成功")})},waringBox:function(e){this.$emit("waringbox",e)}}},M={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"alluser"},[e._m(0),e._v(" "),a("ul",e._l(e.alluser,function(t,i){return a("li",{key:i},[a("span",{staticClass:"s s1"},[e._v(e._s(t.userid))]),e._v(" "),a("span",{staticClass:"s s2"},[e._v(e._s(t.username))]),e._v(" "),0===t.admin?a("span",{staticClass:"s s3"},[e._v("管理员")]):a("span",{staticClass:"s s3"},[e._v("普通用户")]),e._v(" "),a("span",{staticClass:"reset",attrs:{userid:t.userid},on:{click:e.resetPassword}},[e._v("重置")])])}),0)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"top"},[t("span",{staticClass:"s s1"},[this._v("账号")]),this._v(" "),t("span",{staticClass:"s s2"},[this._v("用户名")]),this._v(" "),t("span",{staticClass:"s s3"},[this._v("用户类型")]),this._v(" "),t("span",[this._v("重置密码")])])}]};var z={name:"Content",data:function(){return{olddate:"",adminf:!1,oldfield:"",file:!0,flist:!1,table:!1,tlist:!1,editor:!1,editflag:!1,addtable:!0,addeditflag:!1,tablelist:[],nowtable:{},edittable:{},filelist:[]}},watch:{adminflag:function(e,t){if(this.addeditflag)return this.waringBox("请先保存或不保存"),this.$emit("changeaf",!1),!1;e&&(this.file=!1,this.table=!1,this.editor=!1)}},components:{Liftside:k,Displayfile:N,Displaytable:a("VU/8")(H,P,!1,function(e){a("QiOi")},null,null).exports,Edittable:a("VU/8")(R,B,!1,function(e){a("YAw5")},null,null).exports,Userlist:a("VU/8")($,M,!1,function(e){a("5wP2")},null,null).exports},props:["admin","adminflag","alluser"],methods:{alaysisCookie:function(e){var t=e.split(";"),a={};for(var i in t){var s=t[i].split("=")[0]?t[i].split("=")[0].trim():"msg",n=!!t[i].split("=")[1]&&t[i].split("=")[1].trim();a[s]=n}return a},getTable:function(){var e=this,t=this.alaysisCookie(document.cookie),a=A.a.create({baseURL:"http://127.0.0.1:3000"});a.defaults.headers.common.token=t.user,a.post("/alltable",{userid:t.login}).then(function(t){e.oldfield=t.data.tablefield,t.data.message?(e.tablelist=t.data.tablename,e.nowtable=t.data):(e.waring=!0,e.waringtext="请添加表格",setTimeout(function(){e.waring=!1},1500))})},getFile:function(e){if(e)this.filelist=e;else{var t=this,a=this.alaysisCookie(document.cookie),i=A.a.create({baseURL:"http://127.0.0.1:3000"});i.defaults.headers.common.token=a.user,i.post("/findfile",{userid:a.login}).then(function(e){t.filelist=e.data})}},allFile:function(){if(!this.restrictOperation()){var e=this,t=this.alaysisCookie(document.cookie),a=A.a.create({baseURL:"http://127.0.0.1:3000"});a.defaults.headers.common.token=t.user,a.post("/findfile",{userid:t.login}).then(function(t){e.filelist=t.data})}},restrictOperation:function(){var e=!1,t=(new Date).getTime(),a=t-this.olddate;return this.olddate=t,a<500&&(e=!0,this.$emit("waringbox","操作频繁")),e},waringBox:function(e){this.$emit("waringbox",e)},cEditflag:function(e){this.editflag=e},cAddeditflag:function(e){this.addeditflag=e},seachFile:function(e){if(!this.restrictOperation()){var t=this,a=this.alaysisCookie(document.cookie),i=A.a.create({baseURL:"http://127.0.0.1:3000"});i.defaults.headers.common.token=a.user,i.defaults.headers.common.userid=a.login,i.post("/queryfile",{message:e}).then(function(e){e.data?t.getFile(e.data):t.waringBox("服务器开小差了")})}},fileClass:function(e){if(this.addeditflag)return this.waringBox("请先保存或不保存"),!1;this.$emit("changeaf",!1),this.file=!0,this.table=!1,this.editor=!1;var t=this,a=void 0,i=e.target.innerText,s=this.restrictOperation(),n=this.alaysisCookie(document.cookie),r=A.a.create({baseURL:"http://127.0.0.1:3000"});r.defaults.headers.common.token=n.user,r.defaults.headers.common.userid=n.login,a="视频"===i?"video":"图片"===i?"image":"text",s||r.post("/typefile",{type:a}).then(function(e){e.data?t.getFile(e.data):t.waringBox("服务器开小差了")})},deleteFile:function(e){var t=-1;if(null!==e.target.getAttribute("class")&&(t=e.target.getAttribute("class").indexOf("icon-shanchu")),-1===t)return!1;var a=this,i=e.target.previousElementSibling.getAttribute("href"),s=e.target.nextElementSibling.innerText,n=this.alaysisCookie(document.cookie),r=A.a.create({baseURL:"http://127.0.0.1:3000"});r.defaults.headers.common.token=n.user,r.defaults.headers.common.userid=n.login,r.post("/deletefile",{filepath:i,fileid:s}).then(function(e){e.data?a.getFile():a.waringBox("服务器开小差了")})},uploadFile:function(e){var t=this,a=new FormData(e),i=this.alaysisCookie(document.cookie),s=A.a.create({baseURL:"http://127.0.0.1:3000",headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){1===e.loaded/e.total&&t.waringBox("上传成功")}});s.defaults.headers.common.token=i.user,s.defaults.headers.common.userid=i.login,s.post("/uploadfile",a).then(function(){t.getFile()})},displayImg:function(e){if(-1===e.target.className.indexOf("displayimage"))return!1;-1!==e.target.className.indexOf("name")?this.$emit("displayimg",e.target.parentNode.href):this.$emit("displayimg",e.target.href)},displayVideo:function(e){this.$emit("displayvideo",e.target.getAttribute("playpath"))},displayFile:function(e){if(this.addeditflag)return this.waringBox("请先保存或不保存"),!1;e?(this.file=!0,this.table=!1,this.editor=!1,this.$emit("changeaf",!1)):(this.flist=!this.flist,this.file=!0,this.table=!1,this.editor=!1,this.$emit("changeaf",!1))},displayTable:function(e){if(this.addeditflag)return this.waringBox("请先保存或不保存"),!1;this.seachtlist=[],e?(this.file=!1,this.table=!0,this.editor=!1,this.$emit("changeaf",!1)):(this.tlist=!this.tlist,this.file=!1,this.table=!0,this.editor=!1,this.$emit("changeaf",!1))},displayEditor:function(){this.file=!1,this.table=!1,this.editor=!0,this.$emit("changeaf",!1)},nowTable:function(e){if(this.addeditflag)return this.waringBox("请先保存或不保存"),!1;var t=this;this.editflag=!1;var a=this.restrictOperation(),i=e.target.innerText,s=this.alaysisCookie(document.cookie),n=A.a.create({baseURL:"http://127.0.0.1:3000"});n.defaults.headers.common.token=s.user,n.defaults.headers.common.userid=s.login,a||n.post("/nowtabledata",{tablename:i}).then(function(e){t.nowtable=e.data,t.oldfield=e.data.tablefield,t.displayTable(!0)})},addTable:function(){this.addeditflag=!0,this.displayEditor()},editTable:function(){this.addeditflag=!0,this.editflag=!0,this.delrow=[],this.delfield=[];var e=document.getElementsByClassName("col")[0].children,t=document.getElementsByClassName("row"),a={};a.tablename=document.getElementsByTagName("caption")[0].innerText,a.field=[],a.rowdata=[];for(var i=0;i<e.length;i++)a.field.push(e[i].innerText);for(var s=0;s<t.length;s++){var n={};n.serial=t[s].getAttribute("id").split("row")[1];for(var r=0;r<e.length;r++)n[a.field[r]]=t[s].children[r].innerText;a.rowdata.push(n)}this.edittable=a,this.displayEditor()},listNowTable:function(e){var t=this;this.editflag=!1;var a=this.restrictOperation(),i=void 0;if(i="stl"===e.target.className?e.target.children[0].innerText:e.target.innerText,!a){var s=this.alaysisCookie(document.cookie),n=A.a.create({baseURL:"http://127.0.0.1:3000"});n.defaults.headers.common.token=s.user,n.defaults.headers.common.userid=s.login,a||n.post("/nowtabledata",{tablename:i}).then(function(e){t.nowtable=e.data,t.oldfield=e.data.tablefield,t.displayTable(!0)})}}},created:function(){this.olddate=(new Date).getTime(),this.getFile(),this.getTable()},mounted:function(){document.getElementById("edittable").addEventListener("change",function(e){e.target.className="changed"})}},W={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[a("Liftside",{attrs:{tlist:e.tlist,flist:e.flist,tablelist:e.tablelist},on:{displaytable:e.displayTable,displayfile:e.displayFile,fileclass:e.fileClass,nowtable:e.nowTable}}),e._v(" "),a("Displayfile",{directives:[{name:"show",rawName:"v-show",value:e.file,expression:"file"}],attrs:{filelist:e.filelist},on:{uploadfile:e.uploadFile,allfile:e.allFile,seachfile:e.seachFile,displayvideo:e.displayVideo,deletefile:e.deleteFile,displayimg:e.displayImg}}),e._v(" "),a("Displaytable",{directives:[{name:"show",rawName:"v-show",value:e.table,expression:"table"}],attrs:{nowtable:e.nowtable},on:{waringbox:e.waringBox,listnowtable:e.listNowTable,gettable:e.getTable,addtable:e.addTable,edittable:e.editTable}}),e._v(" "),a("Edittable",{directives:[{name:"show",rawName:"v-show",value:e.editor,expression:"editor"}],attrs:{oldfield:e.oldfield,editflag:e.editflag,addeditflag:e.addeditflag,edittable:e.edittable},on:{gettable:e.getTable,waringbox:e.waringBox,ceditflag:e.cEditflag,caddeditflag:e.cAddeditflag,displaytable:e.displayTable}}),e._v(" "),e.admin?a("Userlist",{directives:[{name:"show",rawName:"v-show",value:e.adminflag,expression:"adminflag"}],attrs:{alluser:e.alluser},on:{waringbox:e.waringBox}}):e._e()],1)},staticRenderFns:[]};var O={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"displayvideo"},[t("span",{staticClass:"iconfont icon-guanbi",on:{click:this.closeVideo}}),this._v(" "),t("div",{staticClass:"video"},[t("video",{ref:"myvideo",attrs:{src:this.videosrc,crossOrigin:"anonymous",controls:""}})])])},staticRenderFns:[]};var j={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"displayimg"},[t("span",{staticClass:"iconfont icon-guanbi",on:{click:this.closeImg}}),this._v(" "),t("img",{attrs:{src:this.imghref,alt:""}})])},staticRenderFns:[]};var I={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"warning"},[this._v(" "+this._s(this.waringtext)+" ")])},staticRenderFns:[]};var F={name:"Personpage",data:function(){return{admin:!1,adminflag:!1,alluser:[],imghref:"",videosrc:"",waring:!1,waringtext:""}},methods:{alaysisCookie:function(e){var t=e.split(";"),a={};for(var i in t){var s=t[i].split("=")[0]?t[i].split("=")[0].trim():"msg",n=!!t[i].split("=")[1]&&t[i].split("=")[1].trim();a[s]=n}return a},changePage:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$emit("changepage",e,t)},cAdmin:function(e){this.admin=e},allUser:function(e,t){this.alluser=e,this.adminflag=t},cAdminFlag:function(e){this.adminflag=e},waringBox:function(e){var t=this;this.waring=!0,this.waringtext=e,setTimeout(function(){t.waring=!1},1500)},displayImg:function(e){this.imghref=e},closeImg:function(){this.imghref=""},displayVideo:function(e){this.videosrc=e},closeVideo:function(){this.videosrc=""}},components:{Nav:x,Content:a("VU/8")(z,W,!1,function(e){a("z6eA")},null,null).exports,Video:a("VU/8")({name:"Video",data:function(){return{}},props:["videosrc"],methods:{closeVideo:function(){this.$emit("closeVideo")}}},O,!1,function(e){a("jmet")},null,null).exports,Img:a("VU/8")({name:"Img",data:function(){return{}},props:["imghref"],methods:{closeImg:function(){this.$emit("closeImg")}}},j,!1,function(e){a("BqZC")},null,null).exports,Waringbox:a("VU/8")({name:"Waringbox",data:function(){return{}},props:["waringtext"]},I,!1,function(e){a("KSIq")},null,null).exports}},V={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"ppp"}},[a("Nav",{on:{changepage:e.changePage,changeadmin:e.cAdmin,alluser:e.allUser}}),e._v(" "),a("Content",{attrs:{admin:e.admin,adminflag:e.adminflag,alluser:e.alluser},on:{changeaf:e.cAdminFlag,displayimg:e.displayImg,displayvideo:e.displayVideo,waringbox:e.waringBox}}),e._v(" "),a("Img",{directives:[{name:"show",rawName:"v-show",value:e.imghref,expression:"imghref"}],attrs:{imghref:e.imghref},on:{closeImg:e.closeImg}}),e._v(" "),a("Video",{directives:[{name:"show",rawName:"v-show",value:e.videosrc,expression:"videosrc"}],attrs:{videosrc:e.videosrc},on:{closeVideo:e.closeVideo}}),e._v(" "),a("Waringbox",{directives:[{name:"show",rawName:"v-show",value:e.waring,expression:"waring"}],attrs:{waringtext:e.waringtext}})],1)},staticRenderFns:[]};var D={name:"App",data:function(){return{page:"login",alter:!1}},watch:{page:function(e,t){window.location.href=e?"#/"+e:"#/login"}},methods:{alaysisCookie:function(e){var t=e.split(";"),a={};for(var i in t){var s=t[i].split("=")[0]?t[i].split("=")[0].trim():"msg",n=!!t[i].split("=")[1]&&t[i].split("=")[1].trim();a[s]=n}return a},changePage:function(e,t){this.page=e,this.alter=t||!1},urlWatch:function(e){-1!==e.indexOf("/login")?this.page="login":-1!==e.indexOf("/register")?this.page="register":this.page="psesonpage"}},components:{Login:u,Register:b,Personpage:a("VU/8")(F,V,!1,function(e){a("vkN2")},null,null).exports},created:function(){var e=this.alaysisCookie(document.cookie);window.location.href="#/login",e.login&&e.user&&(this.page="personpage")},mounted:function(){var e=this;window.addEventListener("hashchange",function(){e.urlWatch(window.location.href)})}},U={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},["login"===this.page?t("Login",{on:{changepage:this.changePage}}):"register"===this.page?t("Register",{attrs:{alter:this.alter},on:{changepage:this.changePage}}):t("Personpage",{on:{changepage:this.changePage}})],1)},staticRenderFns:[]};var J=a("VU/8")(D,U,!1,function(e){a("jvS9")},null,null).exports,Z=a("/ocq");i.a.use(Z.a);var q=new Z.a({routes:[{path:"/",name:"Login",component:u}]});a("muQq");i.a.config.productionTip=!1,new i.a({el:"#app",router:q,components:{App:J},template:"<App/>"})},NnPy:function(e,t){},QiOi:function(e,t){},UiqD:function(e,t){},Uuo5:function(e,t){},YAw5:function(e,t){},fa6I:function(e,t){},jYeS:function(e,t){},jmet:function(e,t){},jvS9:function(e,t){},muQq:function(e,t){},vkN2:function(e,t){},z6eA:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.0e53f5eee6b0cd33d7f9.js.map